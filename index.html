<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-EFR49BC29B"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-EFR49BC29B');
  </script>
  <title>Track360 Supplement Knowledge Quiz</title>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,600,800&display=swap" rel="stylesheet">
  <style>
    body {
      background: #f6f6fa;
      font-family: 'Montserrat', Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    .quiz-container {
      max-width: 600px;
      margin: 40px auto;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 24px rgba(80,0,120,0.10);
      padding: 32px;
      color: #222;
      box-sizing: border-box;
    }
    .quiz-title {
      color: #a259e6;
      font-size: 2rem;
      font-weight: 800;
      text-align: center;
      margin-bottom: 24px;
      letter-spacing: 1px;
      word-break: break-word;
    }
    .quiz-question {
      font-size: 1.1rem;
      font-weight: 600;
      margin: 24px 0 8px 0;
      word-break: break-word;
    }
    .quiz-options label {
      display: block;
      background: #f6f6fa;
      border-radius: 8px;
      padding: 14px 16px;
      margin-bottom: 12px;
      cursor: pointer;
      border: 2px solid transparent;
      transition: border 0.2s;
      font-size: 1rem;
      line-height: 1.4;
      -webkit-tap-highlight-color: #a259e6;
    }
    .quiz-options input[type="radio"] {
      margin-right: 12px;
      width: 20px;
      height: 20px;
      vertical-align: middle;
      accent-color: #a259e6;
    }
    .quiz-options input[type="radio"]:focus {
      outline: 2px solid #a259e6;
    }
    .quiz-options input[type="radio"]:checked + span {
      color: #a259e6;
      font-weight: bold;
    }
    .quiz-options input[type="radio"]:checked + span,
    .quiz-options label:hover {
      border-left: 4px solid #a259e6;
    }
    .quiz-submit {
      background: #a259e6;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 16px 32px;
      font-size: 1.1rem;
      font-weight: 700;
      cursor: pointer;
      margin: 24px 0 0 0;
      display: block;
      width: 100%;
      transition: background 0.2s;
      box-sizing: border-box;
      letter-spacing: 0.5px;
    }
    .quiz-submit + .quiz-submit {
      margin-top: 12px;
    }
    .quiz-submit:hover, .quiz-submit:focus {
      background: #6d2eb1;
      outline: none;
    }
    .quiz-result {
      font-size: 1.2rem;
      font-weight: 700;
      color: #a259e6;
      text-align: center;
      margin-top: 24px;
      word-break: break-word;
    }
    .quiz-feedback {
      word-break: break-word;
    }
    @media (max-width: 700px) {
      .quiz-container {
        padding: 8px;
        margin: 12px;
      }
      .quiz-title {
        font-size: 1.3rem;
      }
      .quiz-question {
        font-size: 1rem;
      }
      .quiz-submit {
        font-size: 1rem;
        padding: 14px 8px;
      }
      .quiz-options label {
        font-size: 0.98rem;
        padding: 12px 10px;
      }
    }
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      justify-content: center;
      align-items: center;
      -webkit-backdrop-filter: blur(5px);
      backdrop-filter: blur(5px);
      touch-action: none;
      -webkit-overflow-scrolling: touch;
    }

    .modal {
      background: white;
      padding: 32px;
      border-radius: 16px;
      text-align: center;
      max-width: 90%;
      width: 400px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
      animation: popIn 0.3s ease-out;
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
      position: relative;
      margin: 20px;
      touch-action: manipulation;
    }

    @keyframes popIn {
      0% { transform: scale(0.8); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    .modal-text {
      font-size: 1.5rem;
      color: #a259e6;
      font-weight: 800;
      margin-bottom: 24px;
      line-height: 1.4;
      -webkit-font-smoothing: antialiased;
    }

    .modal-button {
      background: #a259e6;
      color: white;
      border: none;
      padding: 16px 32px;
      border-radius: 8px;
      font-size: 1.2rem;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.2s;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      user-select: none;
      -webkit-user-select: none;
      -webkit-appearance: none;
      appearance: none;
    }

    .modal-button:active {
      background: #6d2eb1;
      transform: scale(0.98);
    }

    @media (max-width: 700px) {
      .modal {
        padding: 24px;
        margin: 16px;
      }
      
      .modal-text {
        font-size: 1.3rem;
      }
      
      .modal-button {
        padding: 14px 28px;
        font-size: 1.1rem;
        width: 100%;
      }
    }

    @supports (-webkit-touch-callout: none) {
      /* iOS-specific fixes */
      .modal-overlay {
        position: absolute;
        height: -webkit-fill-available;
      }
      
      .modal {
        max-height: 90vh;
        overflow-y: auto;
      }
    }
  </style>
</head>
<body>
  <div class="quiz-container" id="quiz">
    <div class="quiz-title">Track360 Supplement Knowledge Quiz</div>
    <form id="quizForm">
      <!-- Questions will be injected here by JS -->
    </form>
    <div class="quiz-result" id="quizResult"></div>
  </div>
  
  <div class="modal-overlay" id="perfectScoreModal">
    <div class="modal">
      <div class="modal-text">You scored 10/10! Perfect! You're a supplement Pro! 🎯</div>
      <button class="modal-button">Congratulations!</button>
    </div>
  </div>

  <script>
    const quizData = [
      {
        q: "What is the primary performance benefit of creatine monohydrate?",
        options: [
          "Reduces cortisol and improves sleep",
          "Increases phosphocreatine stores for strength and power",
          "Boosts joint lubrication and tendon repair"
        ],
        answer: 1
      },
      {
        q: "Which non-physical benefit is supported by creatine use?",
        options: [
          "Increases muscle hydration and fullness",
          "Improved joint mobility",
          "Enhanced memory and cognitive processing"
        ],
        answer: 2
      },
      {
        q: "What role may Vitamin D3 play in hormone health?",
        options: [
          "It directly increases melatonin production",
          "It may modestly increase testosterone in men with low D levels",
          "It suppresses estrogen to improve fat loss"
        ],
        answer: 1
      },
      {
        q: "What form of vitamin D is preferred for better absorption?",
        options: [
          "Liposomal D3",
          "Vitamin D2",
          "Powdered D3"
        ],
        answer: 0
      },
      {
        q: "What is a primary purpose of taking a greens powder?",
        options: [
          "Increase creatine synthesis",
          "Provide concentrated micronutrients and gut support",
          "Enhance blood circulation during workouts"
        ],
        answer: 1
      },
      {
        q: "What ingredients are commonly found in a high-quality greens powder?",
        options: [
          "Calcium and zinc",
          "Superfoods, probiotics, and digestive enzymes",
          "Beta-alanine and creatine"
        ],
        answer: 1
      },
      {
        q: "Which neurotransmitter precursor in Night T may aid with muscle recovery?",
        options: [
          "Acetylcholine (via Alpha-GPC)",
          "Dopamine (via L-tyrosine)",
          "Glutamate (via BCAAs)"
        ],
        answer: 0
      },
      {
        q: "What role do magnesium and zinc play in Night T?",
        options: [
          "They lower cholesterol levels",
          "They promote sleep efficiency and regulate stress hormones",
          "They increase insulin sensitivity"
        ],
        answer: 1
      },
      {
        q: "What makes Microfactor Powder a \u201cdaily health stack\u201d?",
        options: [
          "It combines greens, CoQ10, vitamins, EFAs, and probiotics",
          "It replaces a pre-workout and post-workout in one",
          "It includes only a high-dose multivitamin"
        ],
        answer: 0
      },
      {
        q: "What is the main reason the author includes Microfactor in their routine?",
        options: [
          "It helps boost testosterone",
          "It's an easy way to fill in nutrient gaps and support overall vitality",
          "It's a quick source of caffeine"
        ],
        answer: 1
      }
    ];

    const quizForm = document.getElementById('quizForm');
    const quizResult = document.getElementById('quizResult');

    quizData.forEach((item, idx) => {
      const qDiv = document.createElement('div');
      qDiv.className = 'quiz-question';
      qDiv.innerText = `${idx + 1}. ${item.q}`;
      quizForm.appendChild(qDiv);

      const optionsDiv = document.createElement('div');
      optionsDiv.className = 'quiz-options';
      item.options.forEach((opt, oIdx) => {
        const label = document.createElement('label');
        const input = document.createElement('input');
        input.type = 'radio';
        input.name = `q${idx}`;
        input.value = oIdx;
        label.appendChild(input);
        const span = document.createElement('span');
        span.innerText = opt;
        label.appendChild(span);
        optionsDiv.appendChild(label);
      });
      quizForm.appendChild(optionsDiv);
    });

    const submitBtn = document.createElement('button');
    submitBtn.type = 'button';
    submitBtn.className = 'quiz-submit';
    submitBtn.innerText = 'Submit Answers';
    submitBtn.onclick = function() {
      let score = 0;
      // Remove previous feedback if any
      const oldFeedback = document.querySelectorAll('.quiz-feedback');
      oldFeedback.forEach(fb => fb.remove());
      quizData.forEach((item, idx) => {
        const selected = quizForm.querySelector(`input[name="q${idx}"]:checked`);
        const optionsDiv = quizForm.querySelectorAll('.quiz-options')[idx];
        let feedback = document.createElement('div');
        feedback.className = 'quiz-feedback';
        feedback.style.margin = '6px 0 16px 0';
        feedback.style.fontWeight = '600';
        feedback.style.fontSize = '1rem';
        if (selected && parseInt(selected.value) === item.answer) {
          score++;
          feedback.innerText = 'Correct!';
          feedback.style.color = '#2ecc40';
        } else {
          feedback.innerText = 'Incorrect.';
          feedback.style.color = '#e74c3c';
        }
        optionsDiv.appendChild(feedback);
      });

      let feedbackMsg = '';
      if (score === quizData.length) {
        feedbackMsg = "🏆 Perfect! You're a supplement pro!";
        // Show the modal for perfect score
        const modal = document.getElementById('perfectScoreModal');
        modal.style.display = 'flex';
        
        // Add click handler to the congratulations button
        const modalButton = modal.querySelector('.modal-button');
        modalButton.onclick = function() {
          modal.style.display = 'none';
        };
      } else if (score >= 8) {
        feedbackMsg = "Great work! You're on the verge of supplement mastery.";
      } else if (score >= 6) {
        feedbackMsg = "You're getting there! Keep learning and you'll be a supplement whiz.";
      } else {
        feedbackMsg = "Keep learning and leveling up with Track360!";
      }
      quizResult.innerHTML = `You scored <strong>${score} / ${quizData.length}</strong>!<br>${feedbackMsg}`;
      window.scrollTo({ top: quizResult.offsetTop, behavior: 'smooth' });
    };
    quizForm.appendChild(submitBtn);

    // Add Reset button
    const resetBtn = document.createElement('button');
    resetBtn.type = 'button';
    resetBtn.className = 'quiz-submit';
    resetBtn.style.background = '#e74c3c';
    resetBtn.style.marginTop = '12px';
    resetBtn.innerText = 'Reset Answers';
    resetBtn.onclick = function() {
      // Clear all selected answers
      quizData.forEach((item, idx) => {
        const radios = quizForm.querySelectorAll(`input[name="q${idx}"]`);
        radios.forEach(radio => { radio.checked = false; });
      });
      // Remove all feedback
      const oldFeedback = document.querySelectorAll('.quiz-feedback');
      oldFeedback.forEach(fb => fb.remove());
      // Clear result
      quizResult.innerHTML = '';
    };
    quizForm.appendChild(resetBtn);

    document.addEventListener('DOMContentLoaded', function() {
      // Prevent scrolling when modal is open
      const modal = document.getElementById('perfectScoreModal');
      modal.addEventListener('touchmove', function(e) {
        e.preventDefault();
      }, { passive: false });
      
      // Close modal on overlay click (but not modal content click)
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          modal.style.display = 'none';
        }
      });
    });
  </script>
</body>
</html> 
